<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Login</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div id="container">
  <form [formGroup]='authForm' (submit)='clickLogin(provider.Email)'>
    
    <!-- SE ESTIVER LOGADO ACESSA O CONTAINER -->
    <ng-container *ngIf='!configs.isSignIn'>
      <!-- NOME -->
      <ion-item lines="full">
        <ion-label position="floating">Nome</ion-label>
        <ion-input type="text" formControlName='name'></ion-input>
        <ion-note slot='end' *ngIf="name.dirty && name.hasError('requerid')">Required</ion-note>
        <ion-note slot='end' *ngIf="name.dirty && name.hasError('minlength')">Mínimo 3 caracteres!</ion-note>
      </ion-item>

    </ng-container>

    <!-- E-MAIL -->
    <ion-item lines="full">
      <ion-label position="floating">Email</ion-label>
      <ion-input type="email" formControlName='email'></ion-input>
      <ion-note slot='end' *ngIf="email.dirty && email.hasError('requerid')">Required</ion-note>
      <ion-note slot='end' *ngIf="email.dirty && email.hasError('email')">E-mail no formato Invalido</ion-note>
    </ion-item>

    <!-- SENHA -->
    <ion-item lines="full">
      <ion-label position="floating">Senha</ion-label>
      <ion-input type="password" formControlName='password'></ion-input>
      <ion-note slot='end' *ngIf="password.dirty && password.hasError('requerid')">Required</ion-note>
      <ion-note slot='end' *ngIf="password.dirty && password.hasError('minlength')">Mínimo 6 caracteres!</ion-note>
    </ion-item>
    <br>
    
    <ion-row>
      <ion-col>

        <!-- SIGN UP-->
        <div *ngIf='!configs.isSignIn'>
          <!-- BUTTON FAZER CADASTRO -->
          <ion-button (click)="changeAuthAction()" expand="block" color="danger">CADASTRAR</ion-button><br>
        </div>

        <!-- BUTTON FAZER LOGIN E-MAIL -->
        <ion-button [disabled]='authForm.invalid' (click)="clickLogin(provider.Email)"  type="submit" color="primary" expand="block" [hidden]='!configs.isSignIn' >LOGIN</ion-button><br>
        
        <!-- BUTTON FAZER LOGIN FACEBOOK -->
        <ion-button (click)="clickLogin(provider.Facebook)" type="submit" color="primary" expand="block" [hidden]='!configs.isSignIn'>
          <ion-icon name="logo-facebook"></ion-icon>
            Login com Facebook
        </ion-button><br>

        <!-- ESQUECEU A SENHA -->
        <div class="container bottom ion-text-center" [routerLink]="['/recuperacao-de-senha']" class="container bottom ion-text-center" [hidden]='!configs.isSignIn'>
          <a>Esqueceu a senha?</a>
        </div>

        <span class="divider line one-line" [hidden]='!configs.isSignIn' >Ainda não tem cadastro?</span><br>

        <!-- BUTTON FAZER CADASTRO -->
        <ion-button [hidden]='!configs.isSignIn'  (click)="changeAuthAction()" expand="block" color="danger">REGISTRAR</ion-button>

      </ion-col>
    </ion-row>

  </form>
</div>
</ion-content>